if(!window.console){var console={log:function(){},warn:function(){},error:function(){},time:function(){},timeEnd:function(){}}}var Trecksoft={};var TS={};Trecksoft.Event={};Trecksoft.Event.cache=[];Trecksoft.Event.publish=function(key,args){if(!Trecksoft.Event.cache[key]){return false;}$.each(Trecksoft.Event.cache[key],function(){this.apply($,args||[]);});};Trecksoft.Event.subscribe=function(key,callback){if(!Trecksoft.Event.cache[key]){Trecksoft.Event.cache[key]=[];}Trecksoft.Event.cache[key].push(callback);return[key,callback];};Trecksoft.Event.unsubscribe=function(handle){var t=handle[0];Trecksoft.Event.cache[t]&&$.each(Trecksoft.Event.cache[t],function(idx){if(this==handle[1]){Trecksoft.Event.cache[t].splice(idx,1);}});};$.fn.colorPicker=function(userOptions){if(!this.length){return;}var defaultOptions={hue_bar:3,hue_slider:6,sb_slider:5,shadow:false,sb_border_color:'#333333',background_color:'#ffffff',backlight:false,callback_on_ok:function(){}};var options=$.extend({},defaultOptions,userOptions);return $(this).modcoder_excolor(options);};$(function(){$('.colorPicker').colorPicker();});$.tryAjax=function(options){if(!$.isFunction(options.callback)){alert('Missing Ajax callback function');return false;}if(options.url.length&&options.url[0]==='/'){options.url=BASEURL+options.url;}options.complete=function(request,textStatus){if(textStatus==='success'||textStatus==='error'||textStatus===null){try{if(options.trackWithGoogleAnalytics){var trackingURL=options.url;if(typeof options.trackWithGoogleAnalytics==='string'){trackingURL=options.trackWithGoogleAnalytics}Trecksoft.Event.publish('google.analytics.trackPageView',[trackingURL]);}if(options.returnType===undefined||options.returnType==='json'){var response=JSON.parse(request.responseText);if(!response.status||200!=response.status){if($.isFunction(options.errorCallback)){options.errorCallback(response);}else{alert(response.message);}return false;}options.callback(response.data);}else{options.callback(request.responseText);}return true;}catch(error){console.error('$.tryAjax complete error: '+error);return false;}}else{return false;}};return $.ajax(options);};